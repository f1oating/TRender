<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:132.0) Gecko/20100101 Firefox/132.0" version="24.8.4">
  <diagram name="Страница — 1" id="iS9kPeVT_qTxmNW6HSiJ">
    <mxGraphModel dx="2849" dy="1117" grid="1" gridSize="13" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="LnMvlJYZvyKWMzvUD1xX-2" value="TRenderDevice" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="71" width="715" height="561" as="geometry" />
        </mxCell>
        <mxCell id="LnMvlJYZvyKWMzvUD1xX-3" value="&lt;div&gt;virtual ~TRenderDevice() {};&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;virtual bool Initizialize(HWND hWnd, int width, int height) = 0;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;virtual void BeginFrame(float r, float g, float b, float a) = 0;&lt;/div&gt;&lt;div&gt;virtual void EndFrame() = 0;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;virtual void DrawPT(unsigned short numIndices, unsigned short startIndexLocation, unsigned short baseVertexLocation) = 0;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;virtual void AddTexture(std::string name, std::string path) = 0;&lt;br&gt;virtual void BindTexture(std::string name) = 0;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;virtual void SetProjectionMatrix(float width, float height, float farZ, float nearZ) = 0;&lt;/div&gt;&lt;div&gt;virtual void SetViewMatrix(TVector4 eye, TVector4 at, TVector4 up) = 0;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;virtual void UpdatePTBuffer(TVertexPT* vertices, unsigned short numVertices, unsigned short* indices, unsigned short numIndices) = 0;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;virtual void AddTexture(std::string name, std::string path) = 0;&lt;br&gt;virtual void BindTexture(std::string name) = 0;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;virtual void BindVertexShader(std::string name) = 0;&lt;br&gt;virtual void BindPixelShader(std::string name) = 0;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;virtual void SetDepthStencilComparison(bool flag) = 0;&lt;br&gt;virtual void SetRasterizerCulling(bool flag) = 0;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;virtual bool OnResize(int width, int height) = 0;&lt;/div&gt;&lt;div&gt;virtual bool IsRunning() = 0;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="LnMvlJYZvyKWMzvUD1xX-2" vertex="1">
          <mxGeometry y="26" width="715" height="455" as="geometry" />
        </mxCell>
        <mxCell id="LnMvlJYZvyKWMzvUD1xX-4" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="LnMvlJYZvyKWMzvUD1xX-2" vertex="1">
          <mxGeometry y="481" width="715" height="8" as="geometry" />
        </mxCell>
        <mxCell id="LnMvlJYZvyKWMzvUD1xX-5" value="&lt;div&gt;bool m_IsRunning;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="LnMvlJYZvyKWMzvUD1xX-2" vertex="1">
          <mxGeometry y="489" width="715" height="72" as="geometry" />
        </mxCell>
        <mxCell id="LnMvlJYZvyKWMzvUD1xX-13" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;entryX=0.372;entryY=0.997;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.471;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="cNzNoUKR5_ti7T2eS_Fg-1" target="LnMvlJYZvyKWMzvUD1xX-5" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="319" y="529" as="sourcePoint" />
            <mxPoint x="500" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cNzNoUKR5_ti7T2eS_Fg-1" value="TDXRenderDevice" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="702" width="468" height="455" as="geometry" />
        </mxCell>
        <mxCell id="cNzNoUKR5_ti7T2eS_Fg-2" value="&lt;div&gt;TDXRenderDevice();&lt;/div&gt;&lt;div&gt;~TDXRenderDevice();&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;void CreateBuffers();&lt;/div&gt;&lt;div&gt;void AddShaders();&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;HRESULT CreatetRenderDevice(TRenderDevice** pInterface);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;HRESULT ReleaseRenderDevice(TRenderDevice** pInterface);&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="cNzNoUKR5_ti7T2eS_Fg-1" vertex="1">
          <mxGeometry y="26" width="468" height="143" as="geometry" />
        </mxCell>
        <mxCell id="cNzNoUKR5_ti7T2eS_Fg-3" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="cNzNoUKR5_ti7T2eS_Fg-1" vertex="1">
          <mxGeometry y="169" width="468" height="8" as="geometry" />
        </mxCell>
        <mxCell id="cNzNoUKR5_ti7T2eS_Fg-4" value="&lt;div&gt;Microsoft::WRL::ComPtr&amp;lt;ID3D11Device&amp;gt; m_pDevice; Microsoft::WRL::ComPtr&amp;lt;ID3D11DeviceContext&amp;gt; m_pDeviceContext; Microsoft::WRL::ComPtr&amp;lt;IDXGISwapChain&amp;gt; m_pSwapChain; Microsoft::WRL::ComPtr&amp;lt;ID3D11RenderTargetView&amp;gt; m_pRenderTargetView; Microsoft::WRL::ComPtr&amp;lt;ID3D11DepthStencilView&amp;gt; m_pDepthStencilView; Microsoft::WRL::ComPtr&amp;lt;ID3D11Texture2D&amp;gt; m_pDepthStencilBuffer;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Microsoft::WRL::ComPtr &amp;lt;ID3D11Buffer&amp;gt; m_pTransformBuffer;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;Microsoft::WRL::ComPtr&amp;lt;ID3D11Buffer&amp;gt; m_pStaticVertexBufferPT;&lt;br&gt;Microsoft::WRL::ComPtr&amp;lt;ID3D11Buffer&amp;gt; m_pStaticIndexBufferPT;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;DirectX::XMMATRIX m_ProjMatrix;&lt;br&gt;DirectX::XMMATRIX m_ViewMatrix;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;TransformConstantBuffer m_TransformConstantBuffer;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;TDXShaderManager m_TDXShaderManager;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="cNzNoUKR5_ti7T2eS_Fg-1" vertex="1">
          <mxGeometry y="177" width="468" height="278" as="geometry" />
        </mxCell>
        <mxCell id="cNzNoUKR5_ti7T2eS_Fg-5" value="TRenderer" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="871" y="71" width="273" height="260" as="geometry" />
        </mxCell>
        <mxCell id="cNzNoUKR5_ti7T2eS_Fg-6" value="&lt;div&gt;TRenderer(HINSTANCE instance);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;HRESULT CreateDevice(const char* chAPI);&lt;/div&gt;&lt;div&gt;TRenderDevice* GetDevice();&lt;/div&gt;&lt;div&gt;HINSTANCE GetModule();&lt;/div&gt;&lt;div&gt;void Release();&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="cNzNoUKR5_ti7T2eS_Fg-5" vertex="1">
          <mxGeometry y="26" width="273" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cNzNoUKR5_ti7T2eS_Fg-7" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="cNzNoUKR5_ti7T2eS_Fg-5" vertex="1">
          <mxGeometry y="156" width="273" height="8" as="geometry" />
        </mxCell>
        <mxCell id="cNzNoUKR5_ti7T2eS_Fg-8" value="ZFXRenderDevice* m_pDevice;&lt;br&gt;HINSTANCE&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; m_hInst;&lt;br&gt;HMODULE&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; m_hDLL;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="cNzNoUKR5_ti7T2eS_Fg-5" vertex="1">
          <mxGeometry y="164" width="273" height="96" as="geometry" />
        </mxCell>
        <mxCell id="Nmb29etkxSLf_LVVn4ak-1" value="TDXShaderManager" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-689" y="676" width="637" height="364" as="geometry" />
        </mxCell>
        <mxCell id="Nmb29etkxSLf_LVVn4ak-2" value="&lt;div&gt;TDXShaderManager();&lt;/div&gt;&lt;div&gt;~TDXShaderManager();&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;void AddVertexShader(std::string name, LPCWSTR path, D3D11_INPUT_ELEMENT_DESC* ied, UINT size, ID3D11Device* device);&lt;/div&gt;&lt;div&gt;void AddPixelShader(std::string name, LPCWSTR pathPixel, ID3D11Device* device);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;void BindVertexShader(std::string name, ID3D11DeviceContext* deviceContext);&lt;/div&gt;&lt;div&gt;void BindPixelShader(std::string name, ID3D11DeviceContext* deviceContext);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;ID3D11VertexShader* GetVertexShader(std::string name);&lt;/div&gt;&lt;div&gt;ID3D11PixelShader* GetPixelShader(std::string name);&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="Nmb29etkxSLf_LVVn4ak-1" vertex="1">
          <mxGeometry y="26" width="637" height="208" as="geometry" />
        </mxCell>
        <mxCell id="Nmb29etkxSLf_LVVn4ak-3" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="Nmb29etkxSLf_LVVn4ak-1" vertex="1">
          <mxGeometry y="234" width="637" height="8" as="geometry" />
        </mxCell>
        <mxCell id="Nmb29etkxSLf_LVVn4ak-4" value="&lt;div&gt;std::unordered_map&amp;lt;std::string, ID3D11VertexShader*&amp;gt; m_VertexShadersMap;&lt;/div&gt;&lt;div&gt;&lt;div&gt;std::unordered_map&amp;lt;std::string, ID3D11PixelShader*&amp;gt; m_PixelShadersMap;&lt;/div&gt;&lt;div&gt;&lt;div&gt;std::unordered_map&amp;lt;std::string, ID3D11InputLayout&amp;gt; m_InputLayoutsMap;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Microsoft::WRL::ComPtr &amp;lt;ID3DBlob&amp;gt; m_pBlob;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="Nmb29etkxSLf_LVVn4ak-1" vertex="1">
          <mxGeometry y="242" width="637" height="122" as="geometry" />
        </mxCell>
        <mxCell id="j0UoL_jZY-VV4XArSAp1-1" value="&lt;div&gt;TDXTextureManager&lt;/div&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-689" y="195" width="637" height="273" as="geometry" />
        </mxCell>
        <mxCell id="j0UoL_jZY-VV4XArSAp1-2" value="&lt;div&gt;TDXTexutureManager();&lt;/div&gt;&lt;div&gt;~TDXTextureManager();&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;void CreateSampler(ID3D11Device* device, ID3D11DeviceContext* context);&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;void AddTexture(std::string name, std::string path, ID3D11Device* device);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;void BindTexture(std::string name, ID3D11DeviceContext* context);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;void DeleteTexture(std::string name);&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="j0UoL_jZY-VV4XArSAp1-1" vertex="1">
          <mxGeometry y="26" width="637" height="169" as="geometry" />
        </mxCell>
        <mxCell id="j0UoL_jZY-VV4XArSAp1-3" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="j0UoL_jZY-VV4XArSAp1-1" vertex="1">
          <mxGeometry y="195" width="637" height="8" as="geometry" />
        </mxCell>
        <mxCell id="j0UoL_jZY-VV4XArSAp1-4" value="&lt;div&gt;std::unordered_map&amp;lt;std::string, ID3D11ShaderResourceView*&amp;gt; m_TexturesMap;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="j0UoL_jZY-VV4XArSAp1-1" vertex="1">
          <mxGeometry y="203" width="637" height="70" as="geometry" />
        </mxCell>
        <mxCell id="85-j-p2QJw2XKJVX7Edh-1" value="TDXFeatureController" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="663" y="728" width="559" height="273" as="geometry" />
        </mxCell>
        <mxCell id="85-j-p2QJw2XKJVX7Edh-2" value="&lt;div&gt;&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ChangeDepthStencilComparison&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;bool flag&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;, &lt;/span&gt;ID3D11Device* device, ID3D11DeviceContext* deviceContext&lt;span class=&quot;hljs-params&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;hljs-params&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;hljs-params&quot;&gt;void ChangeRasterizerCulling(bool flag, ID3D11Device* device, ID3D11DeviceContext* deviceContext);&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="85-j-p2QJw2XKJVX7Edh-1" vertex="1">
          <mxGeometry y="26" width="559" height="143" as="geometry" />
        </mxCell>
        <mxCell id="85-j-p2QJw2XKJVX7Edh-3" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="85-j-p2QJw2XKJVX7Edh-1" vertex="1">
          <mxGeometry y="169" width="559" height="8" as="geometry" />
        </mxCell>
        <mxCell id="85-j-p2QJw2XKJVX7Edh-4" value="+ method(type): type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="85-j-p2QJw2XKJVX7Edh-1" vertex="1">
          <mxGeometry y="177" width="559" height="96" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
